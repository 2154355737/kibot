# Pythonæ’ä»¶å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸ¯ æ¦‚è¿°

KiBotç°å·²æ”¯æŒä½¿ç”¨Pythonè¯­è¨€å¼€å‘æ’ä»¶ï¼æ‚¨å¯ä»¥åˆ©ç”¨Pythonä¸°å¯Œçš„ç”Ÿæ€ï¼ˆAIã€æ•°æ®å¤„ç†ç­‰ï¼‰æ¥æ‰©å±•æœºå™¨äººåŠŸèƒ½ã€‚

## âœ… å·²å®Œæˆçš„åŠŸèƒ½

### æ ¸å¿ƒæ¶æ„
- âœ… Pythonæ’ä»¶SDKï¼ˆå®Œæ•´APIï¼‰
- âœ… Node.jsé€‚é…å™¨ï¼ˆè¿›ç¨‹ç®¡ç†å’ŒIPCï¼‰
- âœ… æ’ä»¶ç®¡ç†å™¨é›†æˆ
- âœ… ç¤ºä¾‹æ’ä»¶ï¼ˆ3ä¸ªæŒ‡ä»¤ï¼Œ2ä¸ªäº‹ä»¶ï¼‰

### å¼€å‘å·¥å…·
- âœ… æ’ä»¶ç”Ÿæˆå™¨æ”¯æŒPython
- âœ… ç¯å¢ƒæ£€æŸ¥å·¥å…·
- âœ… Pyrighté…ç½®ï¼ˆæ¶ˆé™¤å¯¼å…¥è­¦å‘Šï¼‰

### æ–‡æ¡£
- âœ… æ¶æ„è®¾è®¡æ–‡æ¡£
- âœ… å¼€å‘æŒ‡å—
- âœ… APIæ–‡æ¡£

## ğŸš€ å¿«é€Ÿæµ‹è¯•

### 1. å¯ç”¨ç¤ºä¾‹æ’ä»¶

åœ¨Webç®¡ç†ç•Œé¢ï¼š
1. ç‚¹å‡»"æ‰«ææ’ä»¶"
2. æ‰¾åˆ°"Pythonç¤ºä¾‹æ’ä»¶"
3. ç‚¹å‡»"å¯ç”¨"

### 2. æµ‹è¯•æŒ‡ä»¤

åœ¨QQä¸­å‘é€ï¼š
```
/pyhello          # Pythoné—®å€™
/pyhello å¼ ä¸‰     # é—®å€™æŒ‡å®šçš„äºº
/pystats          # æŸ¥çœ‹æ’ä»¶ç»Ÿè®¡
/pyecho æµ‹è¯•æ¶ˆæ¯  # å›æ˜¾æ¶ˆæ¯
```

### 3. æŸ¥çœ‹æ—¥å¿—

ç»ˆç«¯ä¼šæ˜¾ç¤ºï¼š
```
[Pythonå¯åŠ¨] âœ… Pythonç‰ˆæœ¬: 3.x.x
[Pythonå¯åŠ¨] âœ… KiBot Python SDK å¯ç”¨
[Python:example-python-plugin] â„¹ï¸ åŠ è½½å®Œæˆ (æ¶ˆæ¯: 0, é—®å€™: 0)
[Python:example-python-plugin] â„¹ï¸ å·²å¯ç”¨ (æŒ‡ä»¤: 3, äº‹ä»¶: 2)
```

## ğŸ“ åˆ›å»ºè‡ªå·±çš„Pythonæ’ä»¶

### ä½¿ç”¨ç”Ÿæˆå™¨

```bash
cd tools
node create-plugin-v3.js
```

é€‰æ‹©ï¼š
- **è¯­è¨€**: Python
- **åŠŸèƒ½**: æ ¹æ®éœ€è¦é€‰æ‹©æŒ‡ä»¤ã€äº‹ä»¶ã€å®šæ—¶ä»»åŠ¡ç­‰
- **ç¤ºä¾‹**: å»ºè®®åŒ…å«ç¤ºä¾‹ä»£ç 

### æ‰‹åŠ¨åˆ›å»º

#### 1. åˆ›å»ºç›®å½•ç»“æ„
```
server/plugins/my-python-plugin/
â”œâ”€â”€ plugin.json
â”œâ”€â”€ main.py
â”œâ”€â”€ requirements.txt
â””â”€â”€ pyrightconfig.json
```

#### 2. plugin.json
```json
{
  "id": "my-python-plugin",
  "name": "æˆ‘çš„Pythonæ’ä»¶",
  "version": "1.0.0",
  "language": "python",
  "runtime": {
    "python": ">=3.8",
    "main": "main.py"
  }
}
```

#### 3. main.py
```python
import sys
import os
sdk_path = os.path.join(os.path.dirname(__file__), '../../core/python-plugin-system')
sys.path.insert(0, sdk_path)

from startup_check import check_and_start
if not check_and_start("æˆ‘çš„æ’ä»¶"):
    sys.exit(1)

from plugin_base import PluginBase

class MyPlugin(PluginBase):
    async def on_enable(self):
        await super().on_enable()
        self.register_command('test', self.handle_test)
        self.logger.info("æ’ä»¶å·²å¯ç”¨")
    
    async def handle_test(self, event, args):
        await self.send_message(
            event['user_id'],
            'Hello from Python!',
            event['message_type']
        )

# ... ä¸»å‡½æ•°æ ·æ¿ä»£ç ï¼ˆå‚è€ƒexample-python-pluginï¼‰
```

## ğŸ” åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | JavaScriptæ’ä»¶ | Pythonæ’ä»¶ | è¯´æ˜ |
|------|---------------|------------|------|
| æŒ‡ä»¤å¤„ç† | âœ… | âœ… | APIä¸€è‡´ |
| äº‹ä»¶ç›‘å¬ | âœ… | âœ… | APIä¸€è‡´ |
| å®šæ—¶ä»»åŠ¡ | âœ… | âœ… | æ”¯æŒCron |
| æ•°æ®å­˜å‚¨ | âœ… | âœ… | é€šè¿‡IPC |
| CQç å¤„ç† | âœ… | âœ… | å®Œæ•´æ”¯æŒ |
| çƒ­é‡è½½ | âœ… | âš ï¸ | è¿›ç¨‹é‡å¯ |
| æ€§èƒ½ | é«˜ | ä¸­ | IPCå¼€é”€ |
| ç”Ÿæ€ | npm | pip | Pythonæ›´ä¸°å¯Œ |

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### é€‚åˆç”¨Pythonçš„åœºæ™¯
- ğŸ¤– AIå¯¹è¯ï¼ˆOpenAIã€Transformersï¼‰
- ğŸ“Š æ•°æ®åˆ†æï¼ˆPandasã€NumPyï¼‰
- ğŸ–¼ï¸ å›¾åƒå¤„ç†ï¼ˆPillowã€OpenCVï¼‰
- ğŸ”¬ ç§‘å­¦è®¡ç®—ï¼ˆSciPyï¼‰
- ğŸ•·ï¸ ç½‘ç»œçˆ¬è™«ï¼ˆBeautifulSoupã€Scrapyï¼‰

### é€‚åˆç”¨JavaScriptçš„åœºæ™¯
- ğŸš€ é«˜æ€§èƒ½éœ€æ±‚
- ğŸ”Œ éœ€è¦çƒ­é‡è½½
- ğŸ“¦ è½»é‡çº§å·¥å…·
- ğŸ® ç®€å•åŠŸèƒ½

## ğŸ› å·²çŸ¥é—®é¢˜

### å½“å‰é™åˆ¶
- âš ï¸ æ¯æ¬¡é‡è½½éœ€è¦é‡å¯è¿›ç¨‹
- âš ï¸ IPCé€šä¿¡æœ‰è½»å¾®æ€§èƒ½å¼€é”€
- âš ï¸ å¤§æ•°æ®ä¼ è¾“è¾ƒæ…¢ï¼ˆæœªæ¥å¯ç”¨TCPä¼˜åŒ–ï¼‰

### è§£å†³æ–¹æ¡ˆ
- ä½¿ç”¨ç¼“å­˜å‡å°‘APIè°ƒç”¨
- æ‰¹é‡å¤„ç†å‡å°‘IPCé€šä¿¡
- å¼‚æ­¥æ“ä½œæå‡æ•ˆç‡

## ğŸ“ˆ ä¸‹ä¸€æ­¥

### è¿‘æœŸè®¡åˆ’
- [ ] çƒ­é‡è½½ä¼˜åŒ–
- [ ] ä¾èµ–è‡ªåŠ¨å®‰è£…
- [ ] æ›´å¤šç¤ºä¾‹æ’ä»¶
- [ ] æ€§èƒ½åŸºå‡†æµ‹è¯•

### é•¿æœŸè§„åˆ’
- [ ] Pythonæ’ä»¶å¸‚åœº
- [ ] å¯è§†åŒ–è°ƒè¯•å·¥å…·
- [ ] æ€§èƒ½åˆ†æå·¥å…·
- [ ] TypeScriptç±»å‹å®šä¹‰

## ğŸ“ æ”¯æŒ

é‡åˆ°é—®é¢˜ï¼Ÿ
1. æŸ¥çœ‹æ–‡æ¡£ï¼š`æ–‡æ¡£/server/æ–‡æ¡£-server-Pythonæ’ä»¶å¼€å‘æŒ‡å—.md`
2. å‚è€ƒç¤ºä¾‹ï¼š`server/plugins/example-python-plugin/`
3. æŸ¥çœ‹æ—¥å¿—ï¼šç»ˆç«¯è¾“å‡ºå’Œé”™è¯¯ä¿¡æ¯

---

ğŸ‰ **å¼€å§‹æ‚¨çš„Pythonæ’ä»¶å¼€å‘ä¹‹æ—…å§ï¼**

