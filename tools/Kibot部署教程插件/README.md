# 教程Ai 📚

KiBot智能教程助手，提供KiBot搭建、配置、使用的全方位指导。支持智能问答、关键词搜索和分类浏览。

## 📋 插件信息

- **ID**: `jc`
- **名称**: 教程Ai
- **版本**: 1.0.0
- **作者**: Ki
- **分类**: utility
- **SDK**: Enhanced SDK v3.0

## ✨ 核心特性

- 🤖 **智能问答**: 自动识别并回答KiBot相关问题
- 🔍 **关键词搜索**: 支持模糊搜索，快速找到相关教程
- 📁 **分类浏览**: 按主题分类，结构化的教程体系
- 💾 **ORM数据模型**: 使用Enhanced SDK的数据模型管理教程
- 📊 **统计追踪**: 记录查询次数和浏览量
- 🎯 **智能匹配**: 基于相关度评分的搜索算法

## 🚀 功能列表

### 📚 内置教程分类

1. **环境准备** - Node.js环境、系统要求
2. **安装部署** - 完整的安装步骤指南
3. **配置说明** - llonebot.json、security.json配置
4. **使用教程** - 事件规则、插件使用
5. **常见问题** - 连接问题、Web界面问题排查
6. **高级功能** - 任务管理、日志查看

### 🎮 可用指令

| 指令 | 说明 | 示例 |
|------|------|------|
| `/jc` | 显示帮助信息 | `/jc` 或 `/jc help` |
| `/jc [关键词]` | 搜索相关教程 | `/jc 安装` |
| `/教程` | 查看所有分类 | `/教程` |
| `/教程 [分类]` | 查看指定分类 | `/教程 安装部署` |
| `/搜教程 <关键词>` | 搜索教程 | `/搜教程 websocket` |

### 🤖 智能问答

插件会自动监听群聊和私聊消息，当检测到关于KiBot的问题时，自动回复相关教程。

**触发条件**：
- 消息包含问号（?、？）或疑问词（怎么、如何、为什么等）
- 同时包含KiBot相关关键词（kibot、安装、配置、插件等）

**示例**：
```
用户: kibot怎么安装？
机器人: 💡 关于您的问题，我找到了相关教程：

KiBot安装步骤：
1. 下载最新版本的KiBot压缩包
2. 解压到目标目录
...
```

## 📦 安装步骤

1. **复制插件文件**
   ```bash
   # 将插件文件夹复制到
   server/plugins/jc/
   ```

2. **扫描插件**
   - 登录Web管理界面
   - 进入"插件管理"页面
   - 点击"扫描插件"按钮

3. **加载并启用**
   - 找到"教程Ai"插件
   - 点击"加载"
   - 点击"启用"

4. **开始使用**
   - 在QQ群或私聊中发送 `/jc` 查看帮助
   - 提问关于KiBot的问题即可获得答案

## 🔧 配置说明

插件使用默认配置即可运行，如需自定义可编辑 `plugin.json`：

```json
{
  "config": {
    "enabled": true,    // 是否启用插件
    "debug": false      // 调试模式
  }
}
```

## 📖 使用示例

### 示例1: 查看帮助
```
用户: /jc
机器人: 
━━━ KiBot 教程助手 ━━━

📚 可用指令：
/jc [关键词] - 搜索教程
/教程 - 查看分类
/教程 [分类] - 查看指定分类
/搜教程 <关键词> - 搜索教程

💡 智能问答：
直接在群里提问关于KiBot的问题
例如："kibot怎么安装？"

📊 统计信息：
总查询次数：0
有帮助次数：0

━━━━━━━━━━━━━━━
```

### 示例2: 搜索教程
```
用户: /jc 安装
机器人:
━━━ 安装部署 ━━━

❓ 如何安装KiBot?

💡 KiBot安装步骤：
1. 下载最新版本的KiBot压缩包
2. 解压到目标目录
3. 在server目录执行：npm install
...

━━━━━━━━━━━━━━━
```

### 示例3: 查看分类
```
用户: /教程
机器人:
━━━ KiBot 教程分类 ━━━

📁 环境准备 (1)
📁 安装部署 (1)
📁 配置说明 (2)
📁 使用教程 (2)
📁 常见问题 (2)
📁 高级功能 (2)

使用 /教程 [分类名] 查看详情
━━━━━━━━━━━━━━━
```

### 示例4: 智能问答
```
用户: kibot连接不上怎么办？
机器人:
💡 关于您的问题，我找到了相关教程：

连接问题排查：
1. 确认QQ Bot（LLOneBot/NapCat）已启动
2. 检查 llonebot.json 配置是否正确
3. 确认WebSocket端口是否正确
...

━━━━━━━━━━━━━━━
使用 /jc help 查看更多帮助
```

## 🔧 开发和扩展

### 添加新教程

编辑 `index.js` 的 `initDefaultTutorials()` 方法，添加新的教程对象：

```javascript
{
  id: 11,
  category: '新分类',
  question: '这是什么问题？',
  answer: '这是答案内容...',
  keywords: ['关键词1', '关键词2', '关键词3']
}
```

### 自定义关键词

修改 `isQuestionAboutKiBot()` 方法中的 `keywords` 数组，添加需要识别的关键词。

### 调整搜索算法

修改 `searchTutorials()` 方法，自定义相关度评分规则：
- 问题匹配：当前权重 10
- 答案匹配：当前权重 5
- 关键词匹配：当前权重 3

## 📊 数据存储

插件使用Enhanced SDK的ORM存储教程数据：

- **存储位置**: `server/data/plugins/jc/storage.json`
- **数据模型**: Tutorial (教程)
- **统计数据**: 查询次数、浏览量等

### 数据结构
```javascript
{
  id: Number,           // 教程ID
  category: String,     // 分类
  question: String,     // 问题
  answer: String,       // 答案
  keywords: Array,      // 关键词列表
  viewCount: Number,    // 查看次数
  helpful: Number       // 有帮助次数
}
```

## 🐛 调试

启用调试模式可查看详细日志：

1. 编辑 `plugin.json`：
   ```json
   {
     "config": {
       "debug": true
     }
   }
   ```

2. 查看日志：
   - Web界面：系统日志页面
   - 文件：`server/data/logs/kibot-YYYY-MM-DD.log`

## 📝 更新日志

### v1.0.0 (2025-10-18)
- ✅ 初始版本发布
- ✅ 支持10个分类、10条内置教程
- ✅ 实现智能问答功能
- ✅ 实现关键词搜索
- ✅ 实现分类浏览
- ✅ 使用Enhanced SDK的ORM数据模型
- ✅ 添加统计追踪功能
- ✅ 实现基于相关度的搜索算法

## 🔮 计划功能

- [ ] 教程管理Web界面
- [ ] 用户反馈系统
- [ ] 教程评分功能
- [ ] 多语言支持
- [ ] AI自动生成教程
- [ ] 教程分享功能

## ⚠️ 注意事项

1. 插件需要KiBot v3.0.0或更高版本
2. 需要Enhanced SDK支持
3. 首次启动会自动初始化教程数据
4. 教程数据存储在JSON文件中，重启不会丢失

## 🤝 贡献

欢迎贡献新的教程内容或改进建议！

## 📄 许可证

MIT License

## 👨‍💻 作者

**Ki**  
- QQ: 2154355737
- 项目: KiBot
- 版本: 1.0.0

## 📞 支持

如有问题或建议，请：
1. 在群里@机器人提问
2. 使用 `/jc help` 查看帮助
3. 联系作者Ki

---

**Happy Coding! 🚀**
